(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03897201"],{"041b":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("b680");function a(t){var e;e=t<102.4?t.toFixed(2)+"B":t<104857.6?(t/1024).toFixed(2)+"KB":t<107374182.4?(t/1048576).toFixed(2)+"MB":(t/1073741824).toFixed(2)+"GB";var n=e+"",a=n.indexOf("."),r=n.substr(a+1,2);return"00"==r?n.substring(0,a)+n.substr(a+3,2):e}},1148:function(t,e,n){"use strict";var a=n("a691"),r=n("1d80");t.exports="".repeat||function(t){var e=String(r(this)),n="",i=a(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},"1c18":function(t,e,n){},"333d":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[n("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},r=[];n("a9e3");Math.easeInOutQuad=function(t,e,n,a){return t/=a/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function u(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,e,n){var a=u(),r=t-a,l=20,c=0;e="undefined"===typeof e?500:e;var s=function t(){c+=l;var u=Math.easeInOutQuad(c,a,r,e);o(u),c<e?i(t):n&&"function"===typeof n&&n()};s()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&l(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&l(0,800)}}},s=c,d=(n("e498"),n("2877")),f=Object(d["a"])(s,a,r,!1,null,"6af373ef",null);e["a"]=f.exports},"3f5e":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("bc3a"),r=n.n(a),i=n("5f87");function o(t,e){var n=new FormData;return n.append("file",t),r.a.post("http://bintry.cn:12003/file/upload",n,{headers:{"Content-Type":"multipart/form-data","x-access-token":Object(i["a"])()},onUploadProgress:function(t){if(t.lengthComputable){var n=t.loaded/t.total*100|0;n=n>100?100:n,e&&e(n,t.loaded,t.total)}}})}},"408a":function(t,e,n){var a=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},7156:function(t,e,n){var a=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var i,o;return r&&"function"==typeof(i=e.constructor)&&i!==n&&a(o=i.prototype)&&o!==n.prototype&&r(t,o),t}},"792e":function(t,e,n){"use strict";n("c5c9")},a434:function(t,e,n){"use strict";var a=n("23e7"),r=n("23cb"),i=n("a691"),o=n("50c4"),u=n("7b0b"),l=n("65f0"),c=n("8418"),s=n("1dde"),d=n("ae40"),f=s("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,h=Math.min,m=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var n,a,s,d,f,p,v=u(this),y=o(v.length),w=r(t,y),S=arguments.length;if(0===S?n=a=0:1===S?(n=0,a=y-w):(n=S-2,a=h(g(i(e),0),y-w)),y+n-a>m)throw TypeError(b);for(s=l(v,a),d=0;d<a;d++)f=w+d,f in v&&c(s,d,v[f]);if(s.length=a,n<a){for(d=w;d<y-a;d++)f=d+a,p=d+n,f in v?v[p]=v[f]:delete v[p];for(d=y;d>y-a+n;d--)delete v[d-1]}else if(n>a)for(d=y-a;d>w;d--)f=d+a-1,p=d+n-1,f in v?v[p]=v[f]:delete v[p];for(d=0;d<n;d++)v[d+w]=arguments[d+2];return v.length=y-a+n,s}})},a9e3:function(t,e,n){"use strict";var a=n("83ab"),r=n("da84"),i=n("94ca"),o=n("6eeb"),u=n("5135"),l=n("c6b6"),c=n("7156"),s=n("c04e"),d=n("d039"),f=n("7c73"),p=n("241c").f,g=n("06cf").f,h=n("9bf2").f,m=n("58a8").trim,b="Number",v=r[b],y=v.prototype,w=l(f(y))==b,S=function(t){var e,n,a,r,i,o,u,l,c=s(t,!1);if("string"==typeof c&&c.length>2)if(c=m(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+c}for(i=c.slice(2),o=i.length,u=0;u<o;u++)if(l=i.charCodeAt(u),l<48||l>r)return NaN;return parseInt(i,a)}return+c};if(i(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,_=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof _&&(w?d((function(){y.valueOf.call(n)})):l(n)!=b)?c(new v(S(e)),n,_):S(e)},N=a?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;N.length>k;k++)u(v,x=N[k])&&!u(_,x)&&h(_,x,g(v,x));_.prototype=y,y.constructor=_,o(r,b,_)}},b562:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return u}));var a=n("b775");n("5f87");function r(t){return Object(a["a"])({url:"/app/info",method:"get",params:{uuid:t}})}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"android/apple",page:1,pageSize:20};return Object(a["a"])({url:"/app/list",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/app/delete",method:"post",data:{uuid:t}})}function u(t){return Object(a["a"])({url:"/app/upload",method:"post",data:{url:t}})}},b680:function(t,e,n){"use strict";var a=n("23e7"),r=n("a691"),i=n("408a"),o=n("1148"),u=n("d039"),l=1..toFixed,c=Math.floor,s=function(t,e,n){return 0===e?n:e%2===1?s(t,e-1,n*t):s(t*t,e/2,n)},d=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},f=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!u((function(){l.call({})}));a({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,n,a,u,l=i(this),f=r(t),p=[0,0,0,0,0,0],g="",h="0",m=function(t,e){var n=-1,a=e;while(++n<6)a+=t*p[n],p[n]=a%1e7,a=c(a/1e7)},b=function(t){var e=6,n=0;while(--e>=0)n+=p[e],p[e]=c(n/t),n=n%t*1e7},v=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var n=String(p[t]);e=""===e?n:e+o.call("0",7-n.length)+n}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=d(l*s(2,69,1))-69,n=e<0?l*s(2,-e,1):l/s(2,e,1),n*=4503599627370496,e=52-e,e>0){m(0,n),a=f;while(a>=7)m(1e7,0),a-=7;m(s(10,a,1),0),a=e-1;while(a>=23)b(1<<23),a-=23;b(1<<a),m(1,1),b(2),h=v()}else m(0,n),m(1<<-e,0),h=v()+o.call("0",f);return f>0?(u=h.length,h=g+(u<=f?"0."+o.call("0",f-u)+h:h.slice(0,u-f)+"."+h.slice(u-f))):h=g+h,h}})},c5c9:function(t,e,n){},e498:function(t,e,n){"use strict";n("1c18")},f82c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("input",{ref:"upload-app",staticClass:"upload",attrs:{type:"file",accept:"*.apk;*.ipa"},on:{change:t.handleApp}}),n("el-button",{staticStyle:{"{background":"#1890ff",borderColor:"#1890ff","margin-bottom":"30px"},attrs:{icon:"el-icon-upload",type:"primary"},on:{click:t.handleUpload}},[t._v("上传APP ")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){e.row;var n=e.$index;return[t._v(" "+t._s(n+1)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"图标",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;e.$index;return[n("img",{staticClass:"user-avatar",attrs:{src:a.icon+"?token="+t.getToken()}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"应用名"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;e.$index;return[n("span",[t._v(t._s(a.appName))])]}}])}),n("el-table-column",{attrs:{align:"center",label:"包名"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;e.$index;return[t._v(" "+t._s(n.packageName)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"版本名"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;e.$index;return[t._v(" "+t._s(n.versionName)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"版本号"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;e.$index;return[t._v(" "+t._s(n.versionCode)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"文件大小"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;e.$index;return[t._v(" "+t._s(t.formatFileSize(n.fileSize))+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"创建日期",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;e.$index;return[n("i",{staticClass:"el-icon-time"}),n("span",[t._v(t._s(a.createTime))])]}}])}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"android"===t.query.type?150:75,"class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row,r=e.$index;return["android"===t.query.type?n("router-link",{staticStyle:{"margin-bottom":"2px","margin-right":"15px"},attrs:{to:"/batch/"+("apple"===t.query.type?"ipa":"apk")+"?uuid="+a.uuid}},[n("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("分身")])],1):t._e(),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(a,r)}}},[t._v("删除")])]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.query.page,limit:t.query.pageSize},on:{"update:page":function(e){return t.$set(t.query,"page",e)},"update:limit":function(e){return t.$set(t.query,"pageSize",e)},pagination:t.fetchData}})],1)},r=[],i=(n("b0c0"),n("a434"),n("5f87")),o=n("041b"),u=n("b562"),l=n("3f5e"),c=n("333d"),s={props:{appType:null},components:{Pagination:c["a"]},filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{query:{type:null,page:1,pageSize:10},list:null,total:0,listLoading:!0}},created:function(){this.query.type=this.$route.name,this.fetchData()},methods:{getToken:i["a"],handleUpload:function(){this.isSubmit||this.$refs["upload-app"].click()},handleApp:function(t){var e=this,n=t.target.files,a=n[0];if(a){var r=a.name.substr(a.name.lastIndexOf(".")+1),i="apk"===r||"ipa"===r;if(console.log("isAPP",i),!i)return this.$message.error("上传文件只能是apk/ipa!"),!1;var o=function(t){e.$notify({title:"失败",message:"APP上传失败",type:"warning",duration:2e3})};Object(l["a"])(a,(function(t,e,n){console.log(t)})).then((function(t){var n=t.data;n.data?Object(u["d"])(n.data).then((function(){e.$notify({title:"成功",message:"APP上传成功",type:"success",duration:2e3}),e.fetchData()})).catch(o):o()})).catch(o)}},formatFileSize:o["a"],fetchData:function(){var t=this;this.listLoading=!0,Object(u["c"])(this.query).then((function(e){t.total=e.data.total,t.list=e.data.list,t.listLoading=!1}))},handleAddApp:function(){},handleDownload:function(t){alert("下载:"+t)},handleSeparation:function(t){},handleDelete:function(t,e){var n=this;Object(u["a"])(t.uuid).then((function(){n.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),n.list.splice(e,1)})).catch((function(){n.$notify({title:"失败",message:"删除失败",type:"warning",duration:2e3})}))}}},d=s,f=(n("792e"),n("2877")),p=Object(f["a"])(d,a,r,!1,null,"075cae62",null);e["default"]=p.exports}}]);